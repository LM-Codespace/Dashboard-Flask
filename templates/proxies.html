{% extends "base.html" %}

{% block content %}
<h2>Proxies</h2>

<form method="POST" action="{{ url_for('proxies.scan_proxies') }}">
    <input type="text" name="proxy_url" placeholder="Enter Proxy URL" required>
    <button type="submit">Scrape Proxies</button>
</form>


<h3>Actions:</h3>
<form action="{{ url_for('proxies.check_proxies') }}" method="POST">
    <button type="submit">Check All Proxies</button>
</form>

<form action="{{ url_for('proxies.delete_dead_proxies') }}" method="POST">
    <button type="submit">Delete Dead Proxies</button>
</form>

<h3>Existing Proxies:</h3>
<table>
    <tr>
        <th>ID</th>
        <th>IP</th>
        <th>Port</th>
        <th>Status</th>
    </tr>
    {% for proxy in proxies %}
    <tr>
        <td>{{ proxy.id }}</td>
        <td>{{ proxy.ip_address }}</td>
        <td>{{ proxy.port }}</td>
        <td>{{ proxy.status }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
